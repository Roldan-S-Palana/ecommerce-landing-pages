@import "tailwindcss";

/* Global fixes */
html, body { 
  margin: 0; 
  padding: 0; 
  overflow-x: hidden; 
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* CSS Custom Properties for Theme System */
:root {
  color-scheme: light dark;
  
  /* Light mode defaults */
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f1f5f9;
  --text-primary: #0f172a;
  --text-secondary: #334155;
  --text-muted: #64748b;
  --border-color: #e2e8f0;
  --accent-primary: #3b82f6;
  --accent-secondary: #059669;
  --card-bg: #ffffff;
  --header-bg: rgba(255, 255, 255, 0.8);
  --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --gradient-from: #3b82f6;
  --gradient-to: #8b5cf6;
  --hero-gradient-from: #3b82f6;
  --hero-gradient-via: #8b5cf6;
  --hero-gradient-to: #d946ef;
}

/* Base styling using custom properties */
@layer base {
  body { 
    background-color: var(--bg-primary); 
    color: var(--text-primary);
    transition: all 0.3s ease;
  }
  
  /* Dark mode overrides */
  .dark {
    --bg-primary: #0f0f23;
    --bg-secondary: #1a1a2e;
    --bg-tertiary: #16213e;
    --text-primary: #ffffff;
    --text-secondary: #e2e8f0;
    --text-muted: #94a3b8;
    --border-color: #334155;
    --accent-primary: #60a5fa;
    --accent-secondary: #34d399;
    --card-bg: #1e293b;
    --header-bg: rgba(15, 15, 35, 0.8);
    --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    --gradient-from: #6366f1;
    --gradient-to: #a855f7;
    --hero-gradient-from: #1e293b;
    --hero-gradient-via: #334155;
    --hero-gradient-to: #0f172a;
  }
}

/* Enhanced theme-aware utilities */
@layer utilities {
  /* Backgrounds */
  .bg-theme-primary { background-color: var(--bg-primary); }
  .bg-theme-secondary { background-color: var(--bg-secondary); }
  .bg-theme-tertiary { background-color: var(--bg-tertiary); }
  .bg-theme-card { background-color: var(--card-bg); }
  
  /* Text colors */
  .text-theme-primary { color: var(--text-primary); }
  .text-theme-secondary { color: var(--text-secondary); }
  .text-theme-muted { color: var(--text-muted); }
  
  /* Borders */
  .border-theme { border-color: var(--border-color); }
  
  /* Shadows */
  .shadow-theme { box-shadow: var(--shadow); }
  
  /* Gradients */
  .gradient-theme { 
    background: linear-gradient(135deg, var(--gradient-from), var(--gradient-to)); 
  }
  
  .hero-gradient {
    background: linear-gradient(135deg, var(--hero-gradient-from), var(--hero-gradient-via), var(--hero-gradient-to));
  }
  
  /* Animations */
  .shimmer {
    background-size: 200% 100%;
    animation: shimmer 3s linear infinite;
  }
  
  .animate-gradient-x { 
    background-size: 200% 100%; 
    animation: gradient-x 10s linear infinite; 
  }
  
  /* Floating animations */
  .float-slow { 
    animation: float-slow 6s ease-in-out infinite; 
  }
  .float-slow.delay-200 { animation-delay: 0.2s; }
  .float-slow.delay-500 { animation-delay: 0.5s; }
}

/* Keyframe animations */
@keyframes shimmer {
  0%   { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

@keyframes gradient-x {
  0%   { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

@keyframes float-slow {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-6px); }
}

/* Aurora effects for dark mode */
.aurora {
  position: absolute;
  pointer-events: none;
  width: 50vw;
  height: 50vw;
  border-radius: 9999px;
  filter: blur(80px);
  opacity: 0.3;
  animation: aurora 16s linear infinite;
}

.dark .aurora {
  background: conic-gradient(from 90deg at 50% 50%, #6366f1, #a855f7, #ec4899, #34d399, #6366f1);
  opacity: 0.4;
}

.light .aurora {
  background: conic-gradient(from 90deg at 50% 50%, #60a5fa, #a78bfa, #f472b6, #34d399, #60a5fa);
  opacity: 0.25;
}

.aurora.delay-700 { animation-delay: 0.7s; }

@keyframes aurora {
  0%   { transform: translate(-10%, 0) rotate(0deg); }
  50%  { transform: translate(10%, -5%) rotate(180deg); }
  100% { transform: translate(-10%, 0) rotate(360deg); }
}

/* Enhanced component styling */
.theme-card {
  background-color: var(--card-bg);
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow);
  transition: all 0.3s ease;
}

.theme-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.25);
}

.dark .theme-card:hover {
  box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.6);
}

/* Header backdrop blur */
.header-backdrop {
  background-color: var(--header-bg);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border-color);
}

/* Button styles */
.btn-primary {
  background-color: var(--accent-primary);
  color: white;
  transition: all 0.2s ease;
}

.btn-primary:hover {
  filter: brightness(1.1);
  transform: translateY(-1px);
}

.btn-secondary {
  background-color: var(--accent-secondary);
  color: white;
  transition: all 0.2s ease;
}

.btn-secondary:hover {
  filter: brightness(1.1);
  transform: translateY(-1px);
}

/* Dark mode button overrides for better contrast */
.dark .btn-primary {
  background-color: #3b82f6;
  color: white;
}

.dark .btn-secondary {
  background-color: #059669;
  color: white;
}

/* Theme toggle button */
.theme-toggle {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  transition: all 0.2s ease;
}

.theme-toggle:hover {
  background: var(--bg-tertiary);
  transform: scale(1.05);
}

/* Ensure smooth transitions for all theme changes */
* {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-duration: 0.3s;
  transition-timing-function: ease;
}

/* Override Tailwind defaults with theme-aware styles */
@layer base {
  .dark .bg-white { background-color: var(--card-bg) !important; }
  .dark .text-gray-600 { color: var(--text-muted) !important; }
  .dark .text-gray-700 { color: var(--text-secondary) !important; }
  .dark .border { border-color: var(--border-color) !important; }
  .dark .shadow, .dark .shadow-md, .dark .shadow-lg {
    box-shadow: var(--shadow) !important;
  }
}

/* SvelteKit body wrapper */
.sveltekit-body {
  display: contents;
}